package net.darkhax.moreswords;

import java.util.Arrays;
import java.util.HashMap;

import net.darkhax.moreswords.common.CommonProxy;
import net.darkhax.moreswords.enchantment.Enchantments;
import net.darkhax.moreswords.handler.ConfigurationHandler;
import net.darkhax.moreswords.handler.MobHandler;
import net.darkhax.moreswords.handler.RecipeHandler;
import net.darkhax.moreswords.item.SwordItems;
import net.darkhax.moreswords.plugins.Plugin;
import net.darkhax.moreswords.util.Constants;
import net.darkhax.moreswords.util.SwordType;
import net.minecraft.creativetab.CreativeTabs;
import net.minecraft.enchantment.EnumEnchantmentType;
import net.minecraftforge.common.util.EnumHelper;
import cpw.mods.fml.common.Mod;
import cpw.mods.fml.common.Mod.EventHandler;
import cpw.mods.fml.common.ModMetadata;
import cpw.mods.fml.common.SidedProxy;
import cpw.mods.fml.common.event.FMLInitializationEvent;
import cpw.mods.fml.common.event.FMLPreInitializationEvent;

@Mod(modid = Constants.MOD_ID, name = Constants.MOD_NAME, version = Constants.VERSION_NUMBER, guiFactory = Constants.FACTORY)
public class MoreSwords {
    
    public static CreativeTabs tabSwords = new CreativeTabMoreSwords(CreativeTabs.getNextID(), "moreSwords");
    public static EnumEnchantmentType enumSwords = EnumHelper.addEnchantmentType("moreSword");
    public static HashMap<String, SwordType> swordTypes = new HashMap();
    
    @SidedProxy(clientSide = Constants.CLIENT_PROXY_CLASS, serverSide = Constants.SERVER_PROXY_CLASS)
    public static CommonProxy proxy;
    
    @Mod.Instance(Constants.MOD_ID)
    public static MoreSwords instance;
    
    @EventHandler
    public void preInit (FMLPreInitializationEvent pre) {
    
        setModInfo(pre.getModMetadata());
        proxy.registerSidedEvents();
        initializeSwordTypes();
        
        new ConfigurationHandler(pre.getSuggestedConfigurationFile());
        new SwordItems();
        new Enchantments();
        new RecipeHandler();
        new MobHandler();
    }
    
    @EventHandler
    public void init (FMLInitializationEvent init) {
    
        new Plugin();
    }
    
    void setModInfo (ModMetadata meta) {
    
        meta.authorList = Arrays.asList("Darkhax");
        meta.logoFile = "";
        meta.credits = "Maintained by Darkhax";
        meta.description = "More Swords provides a magnificent chain of lustrous new swords that expound upon the foundation of Minecraft weaponry. Razor sharp swords of magic as well as stronger, more practical blaes!";
        meta.url = "http://darkhax.net";
        meta.autogenerated = false;
    }
    
    public static void initializeSwordTypes () {
    
        swordTypes.put("dawnstar", new SwordType("dawnstar", 6, 1286, 12, 3, 8, "blaze_rod", true, 13390336));
        swordTypes.put("vampiric", new SwordType("vampiric", 7, 812, 12, 3, 8, "redstone", true, 9371648));
        swordTypes.put("gladiolus", new SwordType("gladiolus", 6, 645, 16, 2, 6, "vine", true, 20992));
        swordTypes.put("draconic", new SwordType("draconic", 7, 1080, 12, 3, 8, "diamond", true, 4671441));
        swordTypes.put("ender", new SwordType("ender", 8, 1580, 18, 4, 9, "ender_eye", true, 2386759));
        swordTypes.put("crystal", new SwordType("crystal", 5, 570, 7, 1, 4, "quartz", true, 13434828));
        swordTypes.put("glacial", new SwordType("glacial", 6, 680, 16, 2, 6, "packed_ice", true, 6737151));
        swordTypes.put("aether", new SwordType("aether", 8, 1796, 18, 4, 9, "glowstone", true, 6750207));
        swordTypes.put("wither", new SwordType("wither", 8, 1869, 18, 4, 9, "soul_sand", true, 657930));
        swordTypes.put("admin", new SwordType("admin", 99999, 9999999, 999, 999, 999, "bedrock", true, 3342336));
    }
}